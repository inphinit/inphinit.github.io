<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DOM, XML, HTML - Inphinit PHP</title>
  <meta name="description" content="Learn how to select nodes with CSS selector in PHP, convert DOM into Array and Array into DOM">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
  <link rel="stylesheet" type="text/css" href="/css/docs.1765824877.css" media="all">
  <!-- <link rel="alternate" href="/en/docs/dom/" hreflang="en"> -->
  <!-- <link rel="alternate" href="/pt/docs/dom/" hreflang="pt"> -->
  <script src="/js/docs.1765824877.js"></script>
</head>
<body>
  <div id="container">
    <main>
      <h1>DOM, XML, HTML</h1>
      <p>
        Learn how to select nodes with <i>CSS selector</i> in PHP, convert <i>DOM</i> into <code>Array</code> and <code>Array</code> into <i>DOM</i>.
      </p>

      <section>
        <h2 id="load-html"><a href="#load-html">Load HTML</a></h2>

        <p>Loads an HTML document from a string:</p>

        <div class="box">
          <code data-lang="php" tabindex="0">
          use Inphinit\Dom\Document;

          $handle = new Document(Document::HTML);

          $handle-&gt;load('<html><head></head><body><div x=\'abc"def\'>Hello World!</div><div id=\'foo\'>bar</div></body></html>');

          var_dump($handle-&gt;document());

          var_dump($handle-&gt;root());
          </code>
        </div>
      </section>

      <section>
        <h2 id="load-xml"><a href="#load-xml">Load XML</a></h2>

        <p>Loads an XML document from a string:</p>

        <div class="box">
          <code data-lang="php" tabindex="0">
          use Inphinit\Dom\Document;

          $handle = new Document(Document::XML);

          $handle-&gt;load('<root xmlns:book="https://book.io"><node foo="bar" baz="foobar">contents</node><book:tag>baz</book:tag></root>');

          var_dump($handle-&gt;document());

          var_dump($handle-&gt;root());
          </code>
        </div>
      </section>

      <section>
        <h2 id="load-files"><a href="#load-files">Load files</a></h2>

        <p>Load XML and HTML files</p>

        <div class="box">
          <code data-lang="php" tabindex="0">
          use Inphinit\Dom\Document;

          // parse XML
          $handle = new Document(Document::XML);
          $handle-&gt;load('sample.xml', true);

          // parse HTML
          $handle = new Document(Document::HTML);
          $handle-&gt;load('sample.html', true);
          </code>
        </div>

        <p>
          It is possible to load remote documents, but it is important to take some precautions and you need to define the context of the flows for the next appropriate load, according to the documentation: <a rel="external" target="_blank" href="https://www.php.net/manual/en/function.libxml-set-streams-context.php">https://www.php.net/manual/en/function.libxml-set-streams-context.php</a>.
        </p>

        <div class="box">
          <code data-lang="php" tabindex="0">
          use Inphinit\Dom\Document;

          $opts = array(
              'http' =&gt; array(
                  'user_agent' =&gt; 'PHP libxml agent',
              )
          );

          $context = stream_context_create($opts);
          libxml_set_streams_context($context);

          // parse HTML
          $handle = new Document(Document::HTML);
          $handle-&gt;load('sample.html', true);
          </code>
        </div>
      </section>

      <section>
        <h2 id="serialize-to-an-html-or-xml-string"><a href="#serialize-to-an-html-or-xml-string">Serialize to an HTML or XML string</a></h2>

        <p>
          To convert the document into a string, use the <code>Inphinit\Dom\Document::dump()</code> method:
        </p>

        <div class="box">
          <code data-lang="php" tabindex="0">
          use Inphinit\Dom\Document;

          // parse XML
          $handle = new Document(Document::XML);
          $handle-&gt;load('sample.xml', true);

          echo $handle-&gt;dump();
          </code>
        </div>
      </section>

      <section>
        <h2 id="save-to-a-file"><a href="#save-to-a-file">Save to a file</a></h2>

        <p>Se precisar converter para uma string você pode o método <code>Inphinit\Dom\Document::save($file)</code></p>

        <div class="box">
          <code data-lang="php" tabindex="0">
          use Inphinit\Dom\Document;

          // parse XML
          $handle = new Document(Document::XML);
          $handle-&gt;load('sample.xml', true);

          $handle-&gt;save('foobar.xml');
          </code>
        </div>
      </section>

      <section>
        <h2 id="change-the-serialization-behavior"><a href="#change-the-serialization-behavior">Change the serialization behavior</a></h2>

        <p>
          If you are using XML (e.g., <code>new Document(Document::XML)</code>), the <code>Inphinit\Dom\Document::dump()</code> and <code>Inphinit\Dom\Document::save($file)</code> methods may have their behavior modified according to libXML (which may vary depending on the version). Supported values:
        </p>

        <ul>
          <li>
            <code>LIBXML_NOEMPTYTAG</code>: Expand empty tags (e.g., <code>&lt;br/&gt;</code> to <code>&lt;br&gt;&lt;/br&gt;</code>)
          </li>
          <li>
            <code>LIBXML_NOXMLDECL</code>: Drop the XML declaration (PHP 8.3+ / Libxml >= 2.6.21)
          </li>
        </ul>

        <div class="box">
          <code data-lang="php" tabindex="0">
          use Inphinit\Dom\Document;

          $handle = new Document(Document::XML);

          $handle-&gt;setSaveOptions(LIBXML_NOEMPTYTAG|LIBXML_NOXMLDECL);

          $handle-&gt;fromArray([...]);

          $handle-&gt;dump($handle-&gt;root());
          </code>
        </div>
      </section>

      <section>
        <h2 id="array-with-dom"><a href="#array-with-dom">Array with DOM</a></h2>

        <p>
          The library supports bidirectional conversion between XML/HTML and arrays. See <a href="/en/docs/dom/dom-with-arrays.html" rel="help">DOM with Arrays</a> for details.
        </p>
      </section>

      <section>
        <h2 id="dom-selector">
          <a href="#dom-selector-with">DOM selector with</a>
        </h2>

        <p>
          CSS selectors are typically more convenient than XPath. For this reason, the framework supports CSS-style selectors. See <a href="/en/docs/dom/css-selector.html" rel="help">CSS Selector in PHP</a> for details.
        </p>
      </section>

      <section>
        <h2 id="methods"><a href="#methods">Methods</a></h2>

        <div class="box">
        <table>
        <thead>
        <tr>
        <th>Method</th>
        <th>Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td><code>__construct(int $type = 0)</code></td>
        <td>Use <code>new Document(Document::XML)</code> to define the document as XML, and in the case of HTML use <code>new Document(Document::HTML)</code></td>
        </tr>
        <tr>
        <td><code>setSeverityLevels(int $levels)</code></td>
        <td>Define the severity level of libxml, which will affect the behavior of possible exceptions during document parsing. See more details in <a rel="help" href="/en/docs/dom/errors.html">DOM Errors</a>.</td>
        </tr>
        <tr>
        <td><code>setLoadOptions(int $options)</code></td>
        <td>Define libXML options for load a document or string.</td>
        </tr>
        <tr>
        <td><code>setSaveOptions(int $options)</code></td>
        <td>Define libXML options for dump or save a document as file.</td>
        </tr>
        <tr>
        <td><code>document()</code></td>
        <td>Get original document.</td>
        </tr>
        <tr>
        <td><code>root()</code></td>
        <td>Get root element.</td>
        </tr>
        <tr>
        <td><code>selector()</code></td>
        <td>Returns <code>Inphinit\Dom\Selector</code> instance.</td>
        </tr>
        <tr>
        <td><code>getNamespaces(DOMElement $element)</code></td>
        <td>Get namespace attributes from root element or specific element.</td>
        </tr>
        <tr>
        <td><code>load(string $source, bool $file = false)</code></td>
        <td>Load string or file. See <code>setLoadOptions()</code> method.</td>
        </tr>
        <tr>
        <td><code>dump(DOMNode $node)</code></td>
        <td>Serializes the document as an XML/HTML string.</td>
        </tr>
        <tr>
        <td><code>save(string $file)</code></td>
        <td>Serializes the document as an XML/HTML file.</td>
        </tr>
        <tr>
        <td><code>fromArray(array $data)</code></td>
        <td>Convert Array to DOM. See more details in <a rel="help" href="/en/docs/dom/dom-with-arrays.html#array-to-html">Array to HTML</a>.</td>
        </tr>
        <tr>
        <td><code>toArray(int $format)</code></td>
        <td>Convert DOM to Array. See more details in <a rel="help" href="/en/docs/dom/dom-with-arrays.html#dom-to-array">DOM to Array</a>.</td>
        </tr>
        </tbody>
        </table>
        </div>
      </section>

      <footer>
        <a href="/en/docs/experimental/" class="info" rel="next">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5M5 12L12 19M5 12L12 5"/>
          </svg>
          <p>Experimental</p>
        </a>
        <a href="/en/docs/http/response.html" class="info" rel="prev">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" role="img">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5M5 12L12 19M5 12L12 5"/>
          </svg>
          <p>HTTP Response</p>
        </a>
      </footer>
    </main>
    <footer>
      <div>
        <p>Last updated on <time datetime="2025-11-11">Nov 11, 2025</time>.</p>
        <p>Content licensed under CC BY-SA.</p>
      </div>
      <div>
        <p>
          Site design by <a rel="external" target="_blank" href="https://github.com/brcontainer">Brcontainer</a>
        </p>
      </div>
    </footer>
  </div>

  <header>
    <a href="/">Go to homepage</a>
    <div>
      <!--
      <form method="get" id="search" action="http://duckduckgo.com/">
        <input type="hidden" name="sites" value="inphinit.github.io"/>
        <input type="hidden" name="k8" value="#444444"/>
        <input type="hidden" name="k9" value="#D51920"/>
        <input type="hidden" name="kt" value="h"/>
        <input type="text" name="q" maxlength="255" placeholder="Search&hellip;"/>
        <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
      </form>
      -->
      <a
        href="https://github.com/inphinit/inphinit"
        rel="external"
        target="_blank"
        aria-label="Access Github for get source">
        <svg
          fill="currentColor"
          viewBox="0 0 24 24"
          role="img"
          class="icon">
          <path d="M12 1.602c-6.077 0-11 4.818-11 10.766 0 4.763 3.149 8.787 7.521 10.213.55.095.756-.228.756-.51 0-.257-.013-1.104-.013-2.006-2.764.498-3.479-.66-3.699-1.265-.124-.31-.66-1.265-1.128-1.52-.385-.202-.935-.7-.013-.714.866-.013 1.485.78 1.691 1.104.99 1.628 2.571 1.17 3.204.888.096-.7.385-1.17.701-1.44-2.447-.27-5.005-1.198-5.005-5.316 0-1.17.426-2.14 1.128-2.893-.11-.269-.495-1.372.11-2.853 0 0 .92-.282 3.024 1.104.88-.242 1.816-.364 2.75-.364.936 0 1.87.122 2.75.364 2.104-1.4 3.025-1.104 3.025-1.104.605 1.48.22 2.584.11 2.853.702.754 1.128 1.71 1.128 2.893 0 4.132-2.571 5.047-5.019 5.316.399.336.743.982.743 1.992 0 1.44-.014 2.597-.014 2.96 0 .283.206.62.756.511a11.003 11.003 0 0 0 5.426-3.927A10.628 10.628 0 0 0 23 12.368C23 6.42 18.078 1.602 12 1.602z"/>
        </svg>
        <span class="compact">Star us on Github</span>
      </a>
      <div class="btn" id="color-scheme">
        <select aria-label="Color Scheme">
          <option>Auto</option>
          <option>Dark</option>
          <option>Light</option>
        </select>
        <svg
          fill="currentColor"
          viewBox="0 0 20 20"
          role="img"
          class="icon">
          <path d="M10 2a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 2ZM10 15a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 10 15ZM10 7a3 3 0 1 0 0 6 3 3 0 0 0 0-6ZM15.657 5.404a.75.75 0 1 0-1.06-1.06l-1.061 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM6.464 14.596a.75.75 0 1 0-1.06-1.06l-1.06 1.06a.75.75 0 0 0 1.06 1.06l1.06-1.06ZM18 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 18 10ZM5 10a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 5 10ZM14.596 15.657a.75.75 0 0 0 1.06-1.06l-1.06-1.061a.75.75 0 1 0-1.06 1.06l1.06 1.06ZM5.404 6.464a.75.75 0 0 0 1.06-1.06l-1.06-1.06a.75.75 0 1 0-1.061 1.06l1.06 1.06Z"/>
        </svg>
      </div>
    </div>
  </header>

  <button id="menu-toggle" class="btn" aria-label="Display/Hide menu">
    <svg fill="currentColor" viewBox="0 0 24 24" role="img" class="icon">
      <path d="M21 6H3V5h18v1zm0 5H3v1h18v-1zm0 6H3v1h18v-1z"/>
    </svg>
    <!-- <svg fill="currentColor" viewBox="0 0 24 24" role="img" class="icon">
      <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
    </svg> -->
  </button>

  <nav id="menu" tabindex="-1">
  <div>
    <a href="/en/docs/">Get started</a>
    <dl>
      <dt>Web server</dt>
      <!-- <dd><a href="/en/docs/web-server/apache.html">Apache</a></dd> -->
      <dd><a href="/en/docs/web-server/nginx.html">nginx</a></dd>
      <dd><a href="/en/docs/web-server/iis.html">IIS</a></dd>
      <dd><a href="/en/docs/web-server/iis-express.html">IIS Express</a></dd>
    </dl>
    <a href="/en/docs/structure.html">Structure</a>
    <a href="/en/docs/routing/">Routing</a>
    <dl>
      <dt>Routing features</dt>
      <dd><a href="/en/docs/routing/implicit-route-controllers.html">Implicit route controllers</a></dd>
      <dd><a href="/en/docs/routing/resource.html">Resource routes</a></dd>
    </dl>
    <a href="/en/docs/controllers.html">Controllers</a>
    <a href="/en/docs/views.html">Views</a>
    <a href="/en/docs/configurations.html">Configurations</a>
    <a href="/en/docs/debugging.html">Debugging</a>
    <a href="/en/docs/maintenance.html">Maintenance</a>
    <a href="/en/docs/error-pages.html">Error Pages</a>
    <a href="/en/docs/console-commands.html">Console Commands</a>
    <a href="/en/docs/events.html">Events</a>
    <a href="/en/docs/checkup.html">Checkup</a>
    <a href="/en/docs/http/request.html">HTTP Request</a>
    <a href="/en/docs/http/response.html">HTTP Response</a>
    <dl>
      <dt>HTTP feautures</dt>
      <dd><a href="/en/docs/http/content-negotiation.html">Content Negotiation</a></dd>
      <dd><a href="/en/docs/http/response-codes.html">Response Codes</a></dd>
    </dl>
    <!-- <a href="/en/docs/storage-and-files.html">Storage and Files</a> -->
    <!-- <a href="/en/docs/cache.html">Cache</a> -->
    <a href="/en/docs/dom/">DOM, XML, HTML</a>
    <dl>
      <dt>DOM feautures</dt>
      <dd><a href="/en/docs/dom/css-selector.html">CSS Selector in PHP</a></dd>
      <dd><a href="/en/docs/dom/dom-with-arrays.html">DOM with Arrays</a></dd>
      <dd><a href="/en/docs/dom/errors.html">DOM Errors</a></dd>
    </dl>
    <dl>
      <dt>Specific utilities</dt>
      <dd><a href="/en/docs/utilities/arrays.html">Arrays</a></dd>
      <dd><a href="/en/docs/utilities/strings.html">Strings</a></dd>
      <dd><a href="/en/docs/utilities/url.html">Urls</a></dd>
      <dd><a href="/en/docs/utilities/version.html">Version</a></dd>
    </dl>
    <a href="/en/docs/experimental/">Experimental</a>
    <!-- <a href="/en/docs/performance.html">Performance</a> -->
    <dl>
      <dt>Production</dt>
      <dd><a href="/en/docs/production/forwarded.html">Forwarded</a></dd>
      <dd><a href="/en/docs/production/rate-limiting.html">Rate limiting</a></dd>
      <dd><a href="/en/docs/production/send-file.html">Send file</a></dd>
    </dl>
    <dl>
      <dt>Packages</dt>
      <dd><a href="/en/docs/packages/inphinit-proxy.html">Inphinit Proxy</a></dd>
    </dl>
  </div>
  </nav>

  <div id="menu-backdrop"></div>
</body>
</html>
